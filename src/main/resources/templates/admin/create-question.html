<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
   <head>
       <title>Spring Project | Admin Dashboard</title>
       <meta name="viewport" content="width=device-width, initial-scale=1" />
       <meta name="_csrf" th:content="${_csrf.token}"/>
	   <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
       <link th:href="@{/resources/static/css/bootstrap.min.css}" type="text/css" rel="stylesheet" media="all" />
       <link th:href="@{/resources/static/fonts/css/all.css}" type="text/css" rel="stylesheet" media="all" />
       <link th:href="@{/resources/static/css/mdb.min.css}" type="text/css" rel="stylesheet" media="all" />
       <link th:href="@{/resources/static/css/jquery-ui.css}" type="text/css" rel="stylesheet" media="all" />
             <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
      
  <style> body {
  background: url('https://htmlcolorcodes.com/assets/images/colors/pastel-green-color-solid-background-1920x1080.png') no-repeat center center fixed;
  -webkit-background-size: cover;
  -moz-background-size: cover;
  background-size: cover;
  -o-background-size: cover;
}</style>
   </head>
   <body>
         <header 
		th:replace="~{fragments/HeaderAndFooter :: header}">
	</header>
	<nav th:replace="~{fragments/Navigation :: topBar}"></nav>
       <div class="container">
           <div class="row d-flex justify-content-center align-items-center" style="margin-top: 100px;"> 
                    <div class="col-lg-6">
                        <h6 class="alert alert-danger center" role="alert" th:if="${errorMessage}">Something went wrong. Question cannot be saved.</h6>
                        <form method="post" th:action="@{/admin/question/create}" th:object="${question}" onsubmit="return checkForm();">
                            <div class="form-group">
                                <label for="input-question" style="color:grey;">*Question: </label>
                                <input type="text" class="form-control" th:field="*{question}" id="input-question" />
                            </div>
                            <div class="form-group">
                                <label for="subject-select" style="color:grey;">*Subject: </label>
                                <select class="form-control" id="subject-select" th:field="*{subject.subject_id}">
                                    <option th:each="subject : ${subjects}" th:text="${subject.subject_name}" th:value="${subject.subject_id}"></option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="hardness" style="color:grey;">*Hardness</label>
                                <input type="number" class="form-control" th:field="*{hard}" id="hardness" min="0" />
                            </div>
                            <div class="form-group">
                                <th:block th:each="alternative, stat : ${question.alternatives}">                               
                                    <label for="alternative" style="color:grey;">*Add Alternative: </label>
                                    <div class="row">
                                        <div class="col-lg-10"><input type="text" class="form-control" th:field="*{alternatives[__${stat.index}__].alternative}"></div>
                                        <div class="col-lg-2"><input type="checkbox" class="form-control" th:field="*{alternatives[__${stat.index}__].correct}"></div>
                                    </div>                                                                                      
                                </th:block>
                            </div>
                            <button type="submit" class="btn btn-success btn-block"><i class="fas fa-save"></i> Save Question</button>
                        </form>
                        <br />
                        <a class="btn btn-light btn-block" th:href="@{/admin/dashboard}" type="button"><i class="fas fa-arrow-circle-left"></i> Back</a>
                    </div>
           </div>
       </div>
       <div class="spacer">&nbsp;</div>
      
       <script type="text/javascript" th:src="@{/resources/static/js/jquery-3.5.1.min.js}"></script>
       <script type="text/javascript" th:src="@{/resources/static/js/jquery-ui.js}"></script>
       <script type="text/javascript" th:src="@{/resources/static/js/jquery-migrate-3.0.0.min.js}"></script>
       <script type="text/javascript" th:src="@{/resources/static/js/popper.min.js}"></script>
       <script type="text/javascript" th:src="@{/resources/static/js/jquery.sticky.min.js}"></script>
       <script type="text/javascript" th:src="@{/resources/static/js/bootstrap.min.js}"></script>
       <script type="text/javascript" th:src="@{/resources/static/js/mdb.min.js}"></script>
       <script type="text/javascript">
       function checkForm() {
           if(document.getElementById('input-question').value=="") {
               alert("All fields are required");
               return false;
           }
       }
       </script>
       
       <footer
		th:replace="~{fragments/HeaderAndFooter :: footer}">
	</footer>
   </body>
</html>